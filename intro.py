import streamlit as st

def intro_page():
    '''
    Intro í˜ì´ì§€ êµ¬ì„±
    
    ì‹¤í—˜ ì„¤ëª…, ê°œì¸ì •ë³´ ìˆ˜ì§‘, ë‹¤ìŒ í˜ì´ì§€ë¡œ ì´ë™
    í•„ìˆ˜ ì •ë³´ë¥¼ ëª¨ë‘ ìˆ˜ì§‘í–ˆì„ ê²½ìš°ì—ë§Œ ë‹¤ìŒ í˜ì´ì§€ë¡œ ì´ë™
    
    Args: None
        
    Returns: None
        
    '''
    # ì œëª©
    st.title("ğŸŒŸ ì‹¤í—˜ ì°¸ì—¬ ì•ˆë‚´ ğŸŒŸ")
    st.divider()  # êµ¬ë¶„ì„ 

    # ì‹¤í—˜ ì„¤ëª…
    intro_explanation_block()
    
    # ê°œì¸ì •ë³´ ìˆ˜ì§‘
    personal_information_block()

    # ì œì¶œ
    submitted = st.button("ì œì¶œ ë° ë‹¤ìŒ ì„¸ì…˜ìœ¼ë¡œ ì§„í–‰ â¡ï¸")
    if submitted:
        # í•„ìˆ˜ í•­ëª© ê²€ì¦
        user = st.session_state["personal_information"]
        if user["name"] and user["age"] and user["gender"] and user["education_level"]:
            # ì„±ê³µ ë° í˜ì´ì§€ ì´ë™
            st.success("ì •ë³´ê°€ ì„±ê³µì ìœ¼ë¡œ ì œì¶œë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ìŒ ì„¸ì…˜ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤.")
            st.session_state["page"] = "experiment"
            st.rerun()
        else:
            # ì˜¤ë¥˜ ë©”ì‹œì§€ ì¶œë ¥
            st.error("ëª¨ë“  í•„ìˆ˜ í•­ëª©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.")

        st.rerun()

def intro_explanation_block():
    '''
    ê°œìš” ì„¤ëª… ë¸”ë¡
    
    ì£¼ì–´ì§„ í…ìŠ¤íŠ¸ ì¶œë ¥
    
    Args: None
        
    Returns: None
        
    '''
    st.markdown(
        """
        ### ğŸŒŸ ì‹¤í—˜ ê°œìš”
        ì•ˆë…•í•˜ì„¸ìš”! ì´ë²ˆ ì‹¤í—˜ì— ì°¸ì—¬í•´ ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.<br>
        ì´ ì‹¤í—˜ì€ **ìì—°ì–´ ì²˜ë¦¬(NLP) ëª¨ë¸**ì„ í™œìš©í•˜ì—¬ ì‚¬ëŒë“¤ì´ ìµìˆ™í•˜ì§€ ì•Šì€ ë¶„ì•¼ì˜ ë³µì¡í•œ í…ìŠ¤íŠ¸ë¥¼ ë³´ë‹¤ íš¨ê³¼ì ìœ¼ë¡œ ì´í•´í•  ìˆ˜ ìˆë„ë¡ ë•ëŠ” ë°©ë²•ì„ ì—°êµ¬í•˜ê¸° ìœ„í•œ ê²ƒì…ë‹ˆë‹¤.

        ### ğŸ¯ ì‹¤í—˜ ëª©ì 
        - ğŸ§© ì–´ë ¤ìš´ ê°œë…ì„ ë‹¤ì–‘í•œ ë°©ì‹ìœ¼ë¡œ ì„¤ëª…í–ˆì„ ë•Œ í…ìŠ¤íŠ¸ ì´í•´ë„ê°€ ì–¼ë§ˆë‚˜ í–¥ìƒë˜ëŠ”ì§€ ì—°êµ¬í•©ë‹ˆë‹¤.<br>
        - ğŸ“ ì¤‘ìš”í•œ ì •ë³´ì™€ ì›ë˜ ì˜ë¯¸ë¥¼ ìœ ì§€í•˜ë©´ì„œ í…ìŠ¤íŠ¸ë¥¼ ì‰½ê²Œ í’€ì–´ ì“°ëŠ” íš¨ê³¼ë¥¼ ë¶„ì„í•˜ëŠ” ê²ƒì´ ëª©í‘œì…ë‹ˆë‹¤.

        ### ğŸ› ï¸ ì‹¤í—˜ ì ˆì°¨
        1ï¸âƒ£ **ë³µì¡í•œ ê°œë…ì´ í¬í•¨ëœ ë¬¸ì¥ì„ ì½ìŠµë‹ˆë‹¤.**<br>
        2ï¸âƒ£ **í•´ë‹¹ ë¬¸ì¥ì„ ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ ì„œìˆ í•œ ë¬¸ì¥ì„ ì½ìŠµë‹ˆë‹¤.**<br>
        3ï¸âƒ£ **ê° í…ìŠ¤íŠ¸ì— ëŒ€í•´ ì´í•´ë„ì™€ ë§Œì¡±ë„ë¥¼ í‰ê°€í•©ë‹ˆë‹¤.**

        ### â³ ì˜ˆìƒ ì†Œìš” ì‹œê°„
        - âŒ› ì•½ 15~20ë¶„<br>
        - ì‹¤í—˜ì€ ì´ **20ê°œì˜ ë¬¸ì¥**ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

        **ğŸ“Œ ì°¸ê³ :**<br>
        - ğŸ›¡ï¸ ì‹¤í—˜ì—ì„œ ìˆ˜ì§‘í•œ ëª¨ë“  ë°ì´í„°ëŠ” ì—°êµ¬ ëª©ì ìœ¼ë¡œë§Œ ì‚¬ìš©ë©ë‹ˆë‹¤.<br>
        - â›” ì¤‘ê°„ì— ì‹¤í—˜ì„ ì¢…ë£Œí•˜ê³  ì‹¶ìœ¼ì‹œë©´ ì–¸ì œë“  ì¢…ë£Œí•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        """,
        unsafe_allow_html=True
    )

def personal_information_block():
    '''    
    ê°œì¸ ì •ë³´ ìˆ˜ì§‘ ë¸”ë¡

    ê°œì¸ ì •ë³´ ìˆ˜ì§‘ í›„ st.session_state["personal_information"]ì— ì €ì¥
    ì´ë¦„, ë‚˜ì´, ì„±ë³„, ìµœì¢… í•™ë ¥, ê´€ë ¨ ê²½í—˜ ë˜ëŠ” ì¹œìˆ™í•œ ë¶„ì•¼, ì¶”ê°€ ì •ë³´
    
    Args: None
        
    Returns: None
        
    '''
    # ê°œì¸ì •ë³´ ìˆ˜ì§‘
    container = st.container(border=True)
    user_name = container.text_input("*ì´ë¦„:", placeholder="ì˜ˆ: í™ê¸¸ë™")
    user_age = container.number_input("*ë‚˜ì´:", min_value=10, max_value=100, value=20)
    user_gender = container.radio("*ì„±ë³„:", ["ë‚¨ì„±", "ì—¬ì„±", "ê¸°íƒ€"], horizontal=True)
    education_level = container.selectbox(
        "*ìµœì¢… í•™ë ¥:",
        ["ê³ ë“±í•™êµ ì¡¸ì—…", "ëŒ€í•™êµ ì¡¸ì—…", "ëŒ€í•™ì› ì„ì‚¬ ì¡¸ì—…", "ëŒ€í•™ì› ë°•ì‚¬ ì¡¸ì—…"], index=1
    )
    familiar_fields = container.multiselect(
        "ê´€ë ¨ ê²½í—˜ ë˜ëŠ” ì¹œìˆ™í•œ ë¶„ì•¼:",
        ["ìŒì‹ê³¼ ìŒë£Œ", "ê³µì—° ì˜ˆìˆ ", "ë¹„ì¦ˆë‹ˆìŠ¤ì™€ ê²½ì œ", "ì •ì¹˜ì™€ ì •ë¶€", "ìƒë¬¼í•™", "í™”í•™", "ì»´í“¨íŒ…", "ì§€êµ¬ì™€ í™˜ê²½", "ìˆ˜í•™", "ì˜í•™ê³¼ ê±´ê°•", "ë¬¼ë¦¬í•™", "ê³µí•™", "ê¸°ìˆ "]
    )
    additional_info = container.text_area("ì¶”ê°€ ì •ë³´:", placeholder="ë³¸ì¸ì˜ íŠ¹ê¸° ì‚¬í•­ì´ë‚˜ ì·¨ë¯¸ ë“±ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.")

    # session_stateì— ì €ì¥
    st.session_state["personal_information"] = {
        "name": user_name,
        "age": user_age,
        "gender": user_gender,
        "education_level": education_level,
        "familiar_fields": familiar_fields,
        "additional_info": additional_info
    }
    